// Generate a random string function
function generateRandomString(length) {
    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = '';
    for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        result += characters.charAt(randomIndex);
    }
    return result;
}

// Update the requestBody with a random clientRequestId
const randomClientId = generateRandomString(10); // Change 10 to the desired length
const requestBody = {
    "amount": "720",
    "billId": "6",
    "channel": "1",
    "clientRequestId": randomClientId,
    "decoder": "123445678890",
    "packageId": "1",
    "sourceAccountNumber": "{{bus_account}}",
    "transactionPin": "6389",
    "narration": "Buy Cable bundle",
    "saveBeneficiary": "false",
    "deviceId": "xphone",
    "beneficiaryName": "Paul",
    "beneficiaryPhone": "08185597979",
    "beneficiaryEmail": "12345"
};

pm.request.body.raw = JSON.stringify(requestBody);