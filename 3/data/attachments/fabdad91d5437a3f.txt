// Generate a random string function
function generateRandomString(length) {
    const characters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = '';
    for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        result += characters.charAt(randomIndex);
    }
    return result;
}

// Update the requestBody with a random clientRequestId
const randomClientId = generateRandomString(10); // Change 10 to the desired length
const requestBody = {
    "transactionPin": "6383",
    "narration": "payment",
    "channel": "1",
    "sourceAccountNumber": "{{bussAccount}}",
    "saveBeneficiary": true,
    "clientRequestId": randomClientId,
    "deviceId": "iphone",
    "beneficiaryName": "bryan",
    "beneficiaryPhone": "0815597979",
    "beneficiaryEmail": "bryan@assurdly.com",
    "packageId": "107",
    "billId": "29",
    "amount": "-500",
    "beneficiary": "bryan"
};

pm.request.body.raw = JSON.stringify(requestBody);